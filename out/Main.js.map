{"version":3,"sources":["../src/Main.ts"],"names":[],"mappings":";AAAA;;;;;EAKE;;AAEF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAiCE;AAEF,iBAAiB;AACjB,+CAA+C;AAC/C,4CAA0C;AAC1C,iDAA8E;AAE9E,sDAAgE;AAChE,0CAAwD;AAExD,sCAAmC;AAGnC,gBAAgB;AAChB,IAAI,MAAe,CAAC,CAAwB,yBAAyB;AAErE;;;;GAIG;AACH;IACI,0BAA0B;IAC1B,IAAI,aAAK,CAAC,MAAM,IAAI,aAAK,CAAC,MAAM,IAAI,CAAC,IAAI,uBAAa,EAAE;QACpD,kCAAkC;QAClC,IAAI,uBAAa;YAAE,mBAAS,EAAE,CAAC;QAC/B,mCAAmC;aAC9B,IAAI,aAAK,CAAC,QAAQ;YAAE,kBAAQ,CAAC,QAAQ,CAAC,aAAK,CAAC,GAAG,CAAC,CAAC;QAGtD,+CAA+C;QAC/C,IAAI,kBAAQ,CAAC,YAAY,EAAE,CAAC,MAAM,EAAE;YAChC,8CAA8C;YAC9C,wCAAwC;YACxC,MAAM,GAAG,yBAAW,EAAE,CAAC;SAC1B;QAED,aAAK,CAAC,QAAQ,IAAI,IAAI,CAAC;KAC1B;SAAM,IAAI,MAAM,IAAI,kBAAQ,CAAC,YAAY,EAAE,CAAC,MAAM,EAAE;QACjD,kBAAQ,CAAC,UAAU,CAAC,kBAAQ,CAAC,YAAY,EAAE,CAAC,KAAK,CAAC,CAAC;QACnD,MAAM,GAAG,KAAK,CAAC;KAClB;IAED,6BAA6B;IAC7B,IAAI,aAAK,CAAC,WAAW,EAAE;QACnB,aAAa;QACb,IAAI,aAAK,CAAC,MAAM,IAAI,CAAC,EAAE;YACnB,uBAAe,EAAE,CAAC;SACrB;QACD,cAAc;aACT,IAAI,aAAK,CAAC,MAAM,IAAI,CAAC,EAAE;YACxB,QAAQ;SACX;KACJ;AACL,CAAC;AAID;;;EAGE;AACF;IACI,eAAe;IACf,yBAAW,EAAE,CAAC;IAGd,oBAAoB;IACpB,WAAI,CAAC,IAAI,CAAC,CAAC;IAGX,mBAAmB;IACnB,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;AAC5C,CAAC;AAED,gBAAgB;AAChB,SAAS,EAAE,CAAC","file":"Main.js","sourcesContent":["/* \r\n    Author:         Omar Omar\r\n    Date Created:   May 2018\r\n    Description: \r\n        - Main Program. ALl actions and Canvas Setup.\r\n*/\r\n\r\n/*\r\n    To Do:\r\n        - (FUTURE) Make the x-offset of organizeNode to be adaptable based on the DISTANCE from the neighbor node\r\n            - Would effect UP the tree, so if a grandchild was near a neighbor node from another cousin then the x-offset would change\r\n                to fit the required DISTANCE between each neighbor node\r\n        - Add Partners Offset to organizeNode\r\n        - Add second \"Add Members\" Window that will create a Node tree with parameters entered\r\n            - Grandparents: \"names...\"\r\n            - Parents: \"names...\"\r\n            - Children: \"names...\"\r\n            - If no Grandparents... (Don't add em)\r\n            - etc...\r\n        - Add Simple ctx Tasks to a Utility file\r\n        - Modify relationDistance to be Adaptive to tree size\r\n        - Fix clipping issue where if one Node is selected and overlays another, the other will be selected\r\n        - Fix Linker issue when moving nodes it overrides onto Linkers\r\n        - Add ability to detect Node Layer ontop of another Node\r\n        - Add ability to detect if Properties are clicked on the Active Node (Remider: Mouse Move sets the Active Node)\r\n        - Add image onload to start (return a boolean when loaded from Node or NodeTree?)\r\n        - Add Ability to save progress\r\n        - Improve Performance by TIMING functions that run EACH loop\r\n        - Refactor Most of Canvas.ts functions into NodeTree.ts\r\n        - Fix issue, Node Property shows OVER the other node if two nodes overlay \r\n            - (Draw the node THEN the properties in a loop)\r\n        - Fix Mouse Click\r\n            - Use the Click event?\r\n            - The Plus Button isn't THAT responsive\r\n        - Expand / Re-Create Linkers \r\n            - Move them out the way? \r\n            - MAKE THE HITBOX LARGER!!\r\n    \r\n    Working On:\r\n        - Add Canvas Scrolling (with right-mouse drag)\r\n*/\r\n\r\n// Module Imports\r\n// import { ctx, canvas } from './Canvas/Core';\r\nimport { nodeTree } from './Core/Preload';\r\nimport { linkNodes, handleLinkers, secondaryNode } from './TreeNodes/Linkers';\r\nimport { WIDTH, HEIGHT } from './Core/Constants';\r\nimport { clearCanvas, showGarbage } from './Canvas/Canvas-Draw';\r\nimport { mouse, leftClickEvents } from './Events/Mouse';\r\nimport { drawHitBox } from './Debug/debug';\r\nimport { main } from './Core/Draw';\r\n\r\n\r\n// Global Assets\r\nlet remove: Boolean;                        // Node Removal State    \r\n\r\n/**\r\n * Draw Function sent into MAIN drawing funciton\r\n *  - Mainly used for \"Development\" Build\r\n *  -\"Production\" Builds Are written directly into 'Draw.ts'\r\n */\r\nfunction draw() {\r\n    // Left Mouse Down Actions\r\n    if (mouse.isDown && mouse.button == 0 || secondaryNode) {\r\n        // Secondary Node's Linkers Moving\r\n        if (secondaryNode) linkNodes();\r\n        // Node Moving (If mouse is moving)\r\n        else if (mouse.isMoving) nodeTree.dragNode(mouse.pos);\r\n        \r\n\r\n        // Display Garbage if there is an Active Member\r\n        if (nodeTree.activeMember().member) {\r\n            // Display Garbage Asset at left botton corner\r\n            // Keep track of garbage removal of node\r\n            remove = showGarbage();\r\n        }\r\n        \r\n        mouse.timeDown += 0.01;\r\n    } else if (remove && nodeTree.activeMember().member) {\r\n        nodeTree.removeNode(nodeTree.activeMember().index);\r\n        remove = false;\r\n    }\r\n\r\n    // Mouse Single Click Actions\r\n    if (mouse.singleClick) {\r\n        // Left Click\r\n        if (mouse.button == 0) {\r\n            leftClickEvents();\r\n        }\r\n        // Right Click\r\n        else if (mouse.button == 2) {\r\n            // CLICK\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n/** Runs the Canvas\r\n * Clears the Canvas\r\n * Calls Second at the End\r\n*/\r\nfunction runCanvas(): void {\r\n    // Clear Canvas\r\n    clearCanvas();\r\n\r\n    \r\n    // Drawing Main Data\r\n    main(draw);\r\n\r\n    \r\n    // Animation Frames\r\n    window.requestAnimationFrame(runCanvas);\r\n}\r\n\r\n// Program Calls\r\nrunCanvas();\r\n"]}